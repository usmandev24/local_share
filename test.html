<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Local Share</title>
  </head>
  <style>
    h1 {
      text-align: center;
      background: lightgray;
      border-radius: 3px;
      padding: 0.4rem;
    }
    body {
      margin: 2rem;
      margin-top: 0.5rem;
      background-color: rgb(243, 220, 255);
      text-align: center;
    }
    a {
      text-decoration: none;
    }
    form {
      font-size: 1.5rem;
    }
    input {
      font-size: 1rem;
      border-radius: 3px;
      margin: 0.4rem;
    }
  </style>
  <body>
    <h1><a href="/">LocalShare</a></h1>
    <form>
      <label for="filename"
        >Please Slect a file You want to send to Local pc.<br /><br />
        <input id="filename" type="file" name="filename"
      /></label>
      <br />
      <input onclick="uploadFile()" type="submit" />
    </form>
    <script>
      function uploadFile() {
        let fileInput = document.getElementById("filename");
        const file = fileInput.files[0];
        if (!file) alert("Please Slect a file first");
        fetch(`/client/upload?filename=${encodeURIComponent(file.name)}`, {
          method: "POST",
          body: file,
        })
          .then((res) => res.text())
          .catch((err) => alert(err));
      }
    </script>
  </body>
</html>
